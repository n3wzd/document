# Procedural Content Generation
Procedural Content Generation(PCG)은 컴퓨터 알고리즘을 사용하여 콘텐츠를 자동으로 생성하는 기법입니다. PCG는 무작위성을 도입하여 많은 변형과 다양한 콘텐츠를 생성할 수 있습니다. 이 방법은 게임, 영화, 음악, 그래픽 디자인 등 다양한 분야에서 사용될 수 있습니다.

1. **무작위성(Randomness)**:
	- 무작위성은 PCG의 핵심 요소 중 하나입니다. 무작위성을 도입하여 예측 불가능하고 다양한 콘텐츠를 생성할 수 있습니다.
	- 예를 들어, 랜덤 시드(seed)를 사용하여 맵을 생성하면 같은 시드로 항상 동일한 맵을 생성할 수 있지만, 시드를 변경하면 다른 맵을 생성할 수 있습니다.
2. **규칙 및 제약(Rules and Constraints)**:
	- PCG는 무작위성에만 의존하지 않습니다. 특정 규칙과 제약을 통해 생성된 콘텐츠가 논리적이고 일관성 있게 만들어집니다.
	- 예를 들어, 게임 맵에서는 벽이 방을 둘러싸야 하며, 통로는 연결되어야 하는 등의 규칙이 필요합니다.

PCG 기법으로 다음이 있습니다:
1. **랜덤 생성(Random Generation)**:
	- 무작위 수 생성기를 사용하여 콘텐츠를 생성합니다. 예를 들어, 랜덤 시드를 사용하여 무작위 맵을 생성할 수 있습니다.
2. **규칙 기반 시스템(Rule-based Systems)**:
	- 특정 규칙이나 조건에 따라 콘텐츠를 생성합니다. 예를 들어, 특정 패턴을 따르거나, 일정한 규칙에 따라 레벨을 생성하는 방식입니다.
3. **프랙탈 생성(Fractal Generation)**:
	- 프랙탈 알고리즘을 사용하여 자연스러운 형태를 생성합니다. 예를 들어, 산, 강, 해안선 등의 지형을 생성할 때 사용됩니다.
4. **그래머 기반 생성(Grammar-based Generation)**:
	- 문법 규칙을 사용하여 콘텐츠를 생성합니다. L-시스템(Lindenmayer Systems)과 같은 방법을 사용하여 식물이나 건물의 구조를 생성할 수 있습니다.
5. **셀룰러 오토마타(Cellular Automata)**:
	- 셀룰러 오토마타는 격자 형태의 셀들이 일정한 규칙에 따라 상태를 변화시키는 방식입니다. 예를 들어, 던전 맵을 생성할 때 사용될 수 있습니다.
6. **진화적 알고리즘(Evolutionary Algorithms)**:
	- 진화적 알고리즘을 사용하여 최적화된 콘텐츠를 생성합니다. 이는 자연 선택과 유사한 방식으로 콘텐츠를 반복적으로 개선합니다.


## 랜덤 생성 (Random Generation)
Procedural Content Generation(PCG) 기법에서 랜덤 생성(Random Generation)은 콘텐츠를 생성하는 과정에서 무작위성을 도입하여 다양한 결과물을 만들어내는 방법입니다. 이 기법은 게임 개발, 레벨 디자인, 맵 생성, 아이템 배치 등에 널리 사용됩니다.

1. **무작위성(Randomness)**:
	- 콘텐츠 생성 과정에서 무작위성을 도입하여 각 실행마다 다른 결과를 생성합니다.
	- 동일한 규칙이나 알고리즘을 사용해도 다양한 결과물이 나올 수 있습니다.
2. **재현성(Reproducibility)**:
	- 특정 시드값(Seed)을 사용하여 무작위성을 제어할 수 있습니다.
	- 동일한 시드를 사용하면 언제든지 동일한 결과물을 생성할 수 있어 테스트와 디버깅이 용이합니다.

### 퍼린 노이즈 (Perlin Noise)
퍼린 노이즈는 절차적 콘텐츠 생성에서 자주 사용되는 그래디언트 노이즈(Gradient Noise) 함수입니다. 퍼린 노이즈 함수는 자연스럽고 연속적인 무작위 패턴을 생성하는 데 유용하며, 지형 생성, 텍스처 생성, 애니메이션 등 다양한 분야에서 사용됩니다.

1. **연속성(Continuity)**:
	- 퍼린 노이즈는 값들이 연속적으로 변하여 자연스러운 시각적 패턴을 생성합니다.
	- 인접한 좌표 간의 값들이 부드럽게 변하도록 보장하기 때문에, 거친 점진적인 변화가 없습니다.
2. **무작위성(Randomness)**:
	- 무작위 요소를 포함하지만, 연속성을 유지하여 자연스러운 패턴을 생성합니다.
3. **다중 차원(Multi-Dimensional)**:
	- 1차원, 2차원, 3차원 등 여러 차원에서 사용될 수 있습니다.

퍼린 노이즈의 동작 과정은 다음과 같습니다:

1. **격자 정의 (Grid Definition)**
	- 공간을 일정한 간격으로 나누어 격자를 만듭니다.
	- 각 격자 점마다 임의의 그래디언트 벡터를 할당합니다.
2. **격자 점과의 거리 벡터 계산 (Calculating Distance Vectors)**
	- 노이즈를 계산할 위치 (x, y)가 주어지면, 이 위치를 둘러싼 가장 가까운 4개의 격자 점을 찾습니다.
	- 계산할 위치 (x, y)에서 각 격자 점까지의 거리 벡터를 계산합니다.
	- 예를 들어, 계산할 위치가 (x, y)라면, 각 격자 점 (i, j)에 대해 거리 벡터는 (x - i, y - j)가 됩니다.
3. **점곱 계산 (Calculating Dot Products)**
	- 각 거리 벡터와 해당 격자 점의 그래디언트 벡터 간의 점곱을 계산합니다.
4. **보간 (Interpolation)**
	- 페이드 함수를 사용하여 거리 벡터의 각 성분에 대해 보간 계수를 계산합니다.
	- 퍼린 노이즈는 일반적으로 페이드 함수(Fade Function)를 사용하여 보간합니다.
	- 일반적으로 페이드 함수는 다음을 사용합니다: $f(t) = 6t^5 - 15t^4 + 10t^3$
5. **값 결합 (Combining Values)**
	- 계산한 점곱 값과 보간 계수를 결합합니다. 이 과정은 1D, 2D, 3D 등 차원에 따라 달라집니다.
	- 예를 들어, 2D에서는 x축과 y축을 따라 이중 보간을 수행합니다.
6. **최종 노이즈 값 계산 (Calculating Final Noise Value)**
	- 최종 보간된 값을 합산하여, 최종적인 노이즈 값을 계산합니다.
	- 이 값은 주어진 위치 (x, y)에서의 퍼린 노이즈 값이 됩니다.

### 심플렉스 노이즈 (Simplex Noise)
심플렉스 노이즈는 퍼린 노이즈의 단점을 개선하기 위해 개발된 노이즈 함수입니다. 심플렉스 노이즈는 퍼린 노이즈와 비슷한 목적을 가지고 있지만, 더 효율적으로 고차원 노이즈를 생성하고, 더 나은 품질을 제공합니다.

1. **효율성(Efficiency)**
	- 고차원(예: 3D, 4D)에서 계산 효율성이 높습니다.
	- 퍼린 노이즈는 고차원에서 계산 비용이 기하급수적으로 증가하는 반면, 심플렉스 노이즈는 이를 줄여줍니다.
2. **품질(Quality)**
	- 퍼린 노이즈의 시각적 인공물(artifacts)을 줄여줍니다.
	- 퍼린 노이즈는 고차원에서 격자 패턴(grid pattern)이 나타날 수 있지만, 심플렉스 노이즈는 이를 피할 수 있습니다.

심플렉스 노이즈는 퍼린 노이즈와 달리, 격자를 사용하지 않고 심플렉스(Simplex)라는 구조를 사용합니다. 심플렉스는 n차원 공간에서 가장 단순한 다면체입니다. 예를 들어, 2D에서는 정삼각형, 3D에서는 정사면체입니다.

심플렉스 노이즈의 동작 과정은 다음과 같습니다:

1. **심플렉스 구조 정의(Simplex Structure Definition)**
	- n차원 공간을 심플렉스 단위로 나눕니다.
	- 2D에서는 정삼각형, 3D에서는 정사면체 등으로 공간을 나눕니다.
2. **거리 벡터 계산 (Calculate Distance Vectors)**
	- 입력 좌표와 인접한 심플렉스의 각 꼭짓점 사이의 거리 벡터를 계산합니다.
3.  **기여도 계산 (Calculate Contributions)**
	- 각 꼭짓점의 그래디언트 벡터와 거리 벡터 간의 점곱을 계산하여 기여도를 구합니다.
4.  **합산 (Accumulate Contributions)**
	- 각 꼭짓점의 기여도를 가중합하여 최종 노이즈 값을 계산합니다.
	- 이 과정에서 기여도를 부드럽게 결합하기 위해 가중 함수를 사용합니다.

### 로지스틱 맵 (Logistic Map)
로지스틱 맵은 혼돈 이론(chaos theory)과 복잡계(complex systems) 연구에서 자주 등장하는 간단한 수학적 모델입니다. 로지스틱 맵은 인구 성장 모델을 설명하기 위해 개발되었으며, 비선형 동적 시스템의 행동을 이해하는 데 중요한 역할을 합니다. 또한 혼돈적 특성을 이용하여 예측 불가능한 난수열이나 절차적 콘텐츠 생성에 활용할 수 있습니다.

로지스틱 맵은 다음과 같은 이차 함수로 정의됩니다:

$x_{n+1} = r x_n (1 - x_n)$

- $x_n$은 시간 $n$에서의 값입니다. (예: 인구 비율)
- $r$은 성장률 파라미터입니다.
- $x_{n+1}$은 다음 세대의 값입니다.

로지스틱 맵의 동작 과정은 다음과 같습니다:

1. **초기값 설정 (Initialization)**
	- 초기값 $x_0$를 [0, 1] 범위 내에서 설정합니다.
2. **반복 계산 (Iterative Calculation)**
	- 주어진 성장률 파라미터 $r$와 초기값 $x_0$를 사용하여 다음 값을 계산합니다.

로지스틱 맵은 파라미터 $r$의 값에 따라 다양한 행동을 보입니다:

1. **0 < $r$ ≤ 1**
	- 인구는 결국 멸종하여 0으로 수렴합니다.
2. **1 < $r$ ≤ 3**
	- 인구는 안정적인 특정 값에 수렴합니다.
3. **3 < $r$ < 3.57**
	- 인구는 주기적인 패턴을 보입니다.
	- 처음에는 주기 2의 주기적인 패턴을 보이다가 $r$이 증가함에 따라 주기가 4, 8, 16 등으로 증가합니다.
4. **3.57 < $r$ ≤ 4**
	- 시스템은 혼돈 상태에 빠지며, 초기 조건에 매우 민감해집니다.
