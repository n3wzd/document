---
categories:
- Algorithm
date: '2022-05-13'
title: '[Algorithm] 그래프'
---

{% raw %}
## 그래프
- 그래프: 정점(Vertex)과 정점들을 연결하는 간선(Edge)으로 구성된 자료구조.
- 방향: 어떤 간선은 방향이 있기도 하는데, 이때는 해당 방향으로만 이동이 가능하다.
- 가중치: 간선이 가진 특정 수치
- 사이클: 어떤 정점에서 간선을 따라 출발했을 때, 다시 같은 정점으로 도착하는 경로
- 연결 요소(Connected Component): 서로 떨어진 그래프가 여러 개 있고 이들을 1개의 그래프로 보았을 때, 연결이 안된 그래프를 연결 요소라고 한다.

예를 들어 도시를 정점으로 하고, 각 도시 사이를 연결하는 도로를 간선으로 한다면, 그래프는 전체 도시를 표현하는 간단한 지도가 된다. 여기에 각 도로마다 이동 비용을 추가하면 이것이 바로 그 도로의 가중치고, 도로에 일방통행을 추가한다면 그것이 해당 도로의 방향이다. 이렇게 그래프는 네트워크, 사이트 구조 등 여러 상황에서 모델링으로 적용할 수 있다.

### 구현
그래프 구조를 저장하는 방법은 여러 가지가 있지만, 일반적인 형태의 그래프는 주로 인접 행렬이나 인접 리스트를 통해 구현된다.

### 인접 행렬
인접 행렬(Adjacency Matrix): 연결 간선 유무를 표현하는 2차원 배열.
> 인덱스 1: 간선의 시작점<br>
> 인덱스 2: 간선의 끝점<br>
> 값: 간선 유무<br>

Ex. arr[3][2] = 1이면, 해당 그래프는 (2 → 3) 연결 간선을 가지고 있다.

#### 시간 복잡도
- 특정 1개의 간선을 찾을 때 = O(1)
- 한 정점에 인접한 모든 정점을 조사할 때 = O(V)

공간 복잡도는 O(V<sup>2</sup>)이다.

### 인접 리스트
두 정점의 연결 간선을 포인터를 사용해서 나타낸 연결 리스트. 동적 배열로 구성된 배열로 구현된다.
> 전체 배열의 인덱스: 간선의 시작점<br>
> 동적 배열의 값: 간선의 끝점<br>

Ex. arr[2] = {1, 3, 4}이면, 해당 그래프는 (2 → 1), (2 → 3), (2 → 4) 연결 간선을 가지고 있다.

#### 시간 복잡도
- 특정 1개의 간선을 찾을 때 = O(V)
- 한 정점에 인접한 모든 정점을 조사할 때= O(E)

공간 복잡도는 O(V + E)이다.

일반적으로 인접 행렬보단 시간, 공간 면에서 효율이 좋은 **인접 리스트** 가 자주 사용된다. 단, 특정 위치의 간선을 자주 참조해야 한다면 **인접 행렬** 이 유리하다.

### 설계
그래프 설계의 핵심은 정점과 연결 간선을 정의하는 것이다.
- **정점의 정의**: 각 정점은 식별할 수 있는 고유 정보(=현재 상태)를 가지고 있다. 일반적으로는 1, 2, 3... N 같이 자연수로 배정해서 정점을 구분하지만, 좌표(x, y) 등 다양한 상태 정보로 정점을 구분할 수도 있다.
- **연결 간선의 정의**: 각 정점이 어떠한 연결 간선을 가지고 있는지 살펴본다. 현재 정점에서 +n칸 이동같은 규칙적으로 제공되는 유형이라면, 간선을 인접 리스트같이 따로 어딘가 저장하지 않고 현재 정점을 대상으로 계산에서 인접한 정점을 알아낼 수 있다. 그렇지 않고, 정점마다 불규칙적으로 간선을 가지는 경우는 인접 리스트를 사용하면 된다.

동일한 정점이면 그와 연결된 간선 역시 모두 동일해야 한다. 만약 두 정점에 연결된 간선이 다르다면 구분되어야 한다. (현재 상태 정의에 대한 자세한 내용은 `분할 정복 알고리즘` 외전을 참고하면 좋다.)

ex. `BOJ - 2206 - 벽 부수고 이동하기`에서 벽이 막힌 곳은 이동할 수 없으나, 단 1번만 벽을 부수고 이동할 수 있다. 각 칸을 정점으로 보았을 때, 벽 부수기 유무에 따라 이동하는 칸의 종류(=정점의 간선)가 달라지므로, 같은 위치라도 벽 부수기 기회 횟수에 따라 구분되어야 한다. => 현재 상태 = (x, y, bomb)<br>

## 연관 문제
`DFS & BFS` 외전 참고.

인접 행렬이 유리한 경우 - https://www.acmicpc.net/problem/3665

## 참고
https://namu.wiki/w/%EA%B7%B8%EB%9E%98%ED%94%84(%EC%9D%B4%EC%82%B0%EC%88%98%ED%95%99)
https://codermun-log.tistory.com/288
{% endraw %}