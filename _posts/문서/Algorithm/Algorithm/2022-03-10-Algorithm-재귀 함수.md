---
categories:
- Algorithm
date: '2022-03-10'
title: '[Algorithm] 재귀 함수'
---

{% raw %}
##  재귀 함수
재귀는 자신을 정의할 때 자기 자신을 재참조하는 방법이다. 재귀 함수는 정의 과정에서 자기 자신을 호출하는 것을 포함한 함수다.

##  접근법
- 반복문처럼 각 호출된 함수를 구분 짓는 상태(ex. 반복 인덱스)가 존재한다.
- 더 이상 재귀를 호출하지 않는 탈출 조건이 존재해야 한다.

##  실행 과정
```
void Func(int num)
{
	if(num == 0) return;
	Func(num - 1);
	printf("%d\n", num);
}
```
해당 함수는 함수 인자 num을 통해 재귀 호출을 수행한다. 호출할 때마다 num이 1씩 감소하는 규칙이 있으며, 0이 될 때 재귀 호출을 하지 않는다.

Func(2)의 실행 흐름은 다음과 같다.

> Func(2)<br>
>	(num == 0) ? -> false
>>	Func(1)
>> (num == 0) ? -> false
>>>	Func(0)
>>> (num == 0) ? -> true
>>>	return

>> print(num)

> print(num)<br>

Func(2)의 실행 결과.
```
1
2
```

## 결론
여기서 다음과 같은 사실을 알 수 있다.
> 재귀 함수의 호출은 일반 함수 호출과 동일하다. 함수를 호출하면, 호출된 함수의 코드가 동작하며, 그동안 호출한 쪽의 코드는 진행되지 않는다. 함수의 동작이 끝나면, 함수를 종료하고 다시 호출 시점으로 돌아간다.<br>

재귀를 구현할 때 이 점을 기억하면 구현이 더 명확해진다. 재귀 함수를 사용해서 문제를 해결할 때는 어떤 변수를 사용할 지, 변수의 범위(지역, 전역), 코드에서 변수의 조정 위치(변수가 언제 변하는가? 이거에 따라 전체 실행 플로우가 크게 달라질 수 있다), 재귀의 호출 시점, 탈출 조건의 설정과 위치를 고려해봐야 한다.

현재 상태를 저장하기 위해 함수 인자를 통한 지역 변수나 전역 변수를 사용할 수 있다. 각 함수마다 고유한(= 재귀 호출이 끝나고도 보존되어야 하는) 정보는 지역 변수, 그렇지 않다면 전역 변수로 한다. 예를 들어, 탈출 조건에 활용되는 재귀 인덱스는 함수마다 고유해야 하므로 지역 변수로 사용된다. 모든 정보를 지역 변수로 구현할 수도 있고 더 직관적이기도 하지만, 전역 변수로 하면 메모리 사용량을 절약할 수 있다는 이점이 있다.

재귀는 여러 알고리즘(DP, 백트래킹 등)에서 사용되는 방법이다. 또한, 재귀 함수를 사용하면 상황에 따라 반복문보다 더 편리하고 짧은 코드로 문제를 해결할 수 있다. 위에서는 주로 재귀 함수를 통해 설명했지만, 재귀 로직을 사용하는 방법에도 적용이 가능해 보인다. 따라서 재귀에 대해 명확히 이해하고 넘어가는 것이 좋을 것이다.

## vs 반복문
원론적으로 재귀 함수의 실행 구조는 반복문과 같다. 즉, 재귀 함수는 함수 단위로 실행되는 반복문으로 볼 수 있다.
> 모든 재귀 함수는 반복문으로 바꿀 수 있고, 그 역도 성립한다.<br>

반복문보다 재귀 함수로 구현하는 것이 편리한 대표적인 예시로 `분할 정복 알고리즘`이 있다. 이 방법은 현재 문제를 동일한 유형의 부분 문제로 분할하기에, 문제 계산을 하나의 함수로 정의하고 그 함수를 재귀 호출함으로써 분할을 구현할 수 있다.

그러나 재귀 함수는 함수를 반복 호출함으로써 반복문에 비해 시간, 공간적 오버헤드가 있으며, 시간 초과가 발생할 수도 있다. 이때는 반복문으로 바꾸면 해결할 수 있다. 대표적인 경우가 DP의 Top-Down, Bottom Up.

만약 재귀 함수로 구현하는 것이 쉬운 문제라면,
1. 상대적으로 설계가 쉬운 재귀 함수로 먼저 구현한다.
2. 최대 범위로 테스트해본다.
	- 시간이 오래 걸린다면, 반복문으로 바꾼다.

## 참고
<br>https://ko.wikipedia.org/wiki/%EC%9E%AC%EA%B7%80_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)
<br>https://namu.wiki/w/%EC%9E%AC%EA%B7%80%ED%95%A8%EC%88%98
{% endraw %}