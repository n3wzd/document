---
categories:
- Web
date: '2025-02-13'
title: '[Web] WebSocket'
---

{% raw %}
웹소켓(WebSocket)은 웹 애플리케이션에서 양방향 통신을 가능하게 해주는 프로토콜입니다. HTTP와 비교했을 때, 웹소켓은 지속적인 연결을 유지하면서 클라이언트와 서버 간에 실시간으로 데이터를 주고받을 수 있게 합니다.

1. **양방향 통신**
    - 웹소켓은 클라이언트와 서버가 서로 데이터를 주고받을 수 있는 연결을 제공합니다. 이는 HTTP와 달리, 서버에서 클라이언트로 직접 데이터를 보낼 수 있다는 장점이 있습니다. HTTP는 기본적으로 클라이언트가 서버에 요청을 보내면 서버가 응답하는 방식으로 동작하지만, 웹소켓은 서버가 클라이언트에게 실시간으로 정보를 보낼 수 있게 해줍니다.
2. **지속적인 연결**
    - HTTP는 요청을 보낼 때마다 연결이 열리고 닫히기 때문에 단발성입니다. 반면, 웹소켓은 한 번의 연결을 통해 클라이언트와 서버가 지속적으로 데이터를 주고받을 수 있습니다. 이 연결은 클라이언트와 서버가 명시적으로 끊을 때까지 계속 유지됩니다.
3. **저지연, 빠른 실시간 통신**
    - 웹소켓은 데이터 전송의 지연 시간이 매우 짧고, 실시간 통신에 최적화되어 있습니다. 일반적으로 HTTP 방식보다 훨씬 빠른 데이터 처리가 가능합니다.
4. **헤더가 간단하고 효율적**
    - 웹소켓은 연결을 설정할 때만 HTTP를 사용하여 연결을 초기화합니다. 그 이후에는 HTTP의 헤더를 사용하지 않고, 최소한의 데이터만으로 메시지를 전송합니다. 따라서 네트워크 대역폭을 절약할 수 있고, 통신이 효율적입니다.

### 연결 과정
1. 클라이언트가 웹소켓 연결 요청을 보냅니다. 이는 HTTP 프로토콜을 통해 "Upgrade" 헤더를 사용하여 웹소켓 연결을 요청하는 방식입니다.
2. 서버가 이를 승인하면, HTTP 연결이 웹소켓 프로토콜로 업그레이드되고, 이후에는 웹소켓을 통해 양방향 통신이 이루어집니다.
3. 서버와 클라이언트는 지속적인 연결을 유지하면서, 언제든지 서로 데이터를 전송할 수 있습니다.
4. 연결을 종료하려면 클라이언트나 서버가 "Close" 메시지를 보내어 연결을 종료합니다.

### 웹소켓 vs HTTP
- HTTP: 요청-응답 방식으로, 클라이언트가 요청을 보내면 서버가 응답을 반환하는 방식입니다. 각 요청마다 연결이 이루어지며, 연결이 종료되면 다시 연결을 맺어야 합니다.
- 웹소켓: 클라이언트와 서버가 한 번 연결을 맺으면 그 후로 계속 데이터를 주고받을 수 있습니다. 이 연결은 종료될 때까지 계속 유지됩니다.

선택:
- HTTP: 대용량 메시지, 보안이 중요한 경우, 응답 구조가 간단한 경우
    - 요청-응답 방식의 단발성 통신이 필요한 경우 (예: REST API, 정적 리소스 제공).
    - 데이터 요청이 많지 않거나 저지연을 요구하지 않는 경우.
- 웹소켓: 작은 메시지, 보안이 덜 중요한 경우, 실시간 처리 필요
    - 실시간 양방향 통신이 필요한 경우
    - 클라이언트와 서버 간의 지속적인 연결을 통해 즉각적인 데이터 전달이 필요한 경우.
    - 서버가 많은 요청을 동시에 처리해야 할 때 지속적인 연결을 활용하여 효율적으로 처리할 수 있음.

HTTP와 웹소켓을 혼합해서 사용하는 방식이 가장 효율적일 수 있습니다.
- HTTP는 사용자 인증, 데이터 조회와 같은 전통적인 요청 처리에 사용하고,
- 웹소켓은 실시간 알림, 게임 내 이벤트, 채팅 등 실시간 데이터 흐름이 중요한 부분에 사용하면 좋습니다.

### 활용 예시
웹소켓은 실제 업계에서 실시간 통신이 필요한 다양한 분야에서 많이 사용되고 있습니다. 특히 실시간 데이터를 빠르게 주고받아야 하는 서비스에서는 웹소켓이 필수적인 기술로 자리잡고 있습니다.

#### 실시간 게임
- 온라인 게임에서는 실시간 상호작용이 필수적입니다. 특히 멀티플레이어 게임에서는 플레이어 간 실시간 데이터 전송이 필요합니다. 예를 들어, 점수, 위치 정보, 아이템 획득 등을 실시간으로 전송해야 하므로, 웹소켓이 사용됩니다.
- 롤(League of Legends), 포트나이트(Fortnite), 카운터 스트라이크(CS:GO) 같은 대형 게임에서도 게임 서버와 클라이언트 간 실시간 데이터 전송에 웹소켓을 사용합니다.

#### 채팅 애플리케이션
- 실시간 메시징은 웹소켓의 주요 사용 사례 중 하나입니다. 카카오톡, 슬랙, 텔레그램, 디스코드 같은 채팅 애플리케이션에서는 실시간으로 메시지를 주고받기 위해 웹소켓을 사용합니다.
- 웹소켓을 사용하면 메시지 전송 지연을 최소화할 수 있어, 채팅 시스템의 효율성과 사용자 경험을 크게 향상시킵니다.

#### 주식/금융 대시보드
- 금융 서비스에서는 실시간으로 주식 가격, 환율, 시장 변동 등 실시간 데이터를 사용자에게 전송하는 것이 중요합니다. 웹소켓은 이러한 데이터를 효율적으로 전송하는 데 사용됩니다.
- 예를 들어, 로빈후드(Robinhood), E*TRADE, 웹플러스(WeBull)와 같은 주식 거래 플랫폼에서도 웹소켓을 사용하여 실시간 가격 변동을 제공합니다.

#### 실시간 협업 도구
- Google Docs, Microsoft Office 365와 같은 협업 툴에서는 여러 사용자가 실시간으로 문서를 편집할 수 있도록 웹소켓을 사용합니다.
- 실시간으로 동기화되는 문서 편집, 채팅, 작업 상태 공유 등을 지원하는 시스템에서 웹소켓이 핵심 기술로 사용됩니다.

#### 알림 시스템
- 푸시 알림 시스템에서도 웹소켓을 사용할 수 있습니다. 웹소켓을 통해 앱에서 발생한 업데이트, 알림, 경고 등을 실시간으로 사용자에게 전달할 수 있습니다.
- 예를 들어, Facebook이나 Twitter와 같은 소셜 미디어에서 알림 기능을 실시간으로 제공하는 데 웹소켓을 사용합니다.

#### 트래킹 및 모니터링 시스템
- 실시간 트래킹 시스템에서도 웹소켓이 사용됩니다. 예를 들어, 택배 추적, 실시간 위치 추적, 운송 모니터링 시스템에서는 지속적인 위치 업데이트와 상태 변경을 실시간으로 받아야 하기 때문에 웹소켓을 활용합니다.
- Uber, Lyft와 같은 택시/배달 서비스에서 운전자의 위치 업데이트 및 승객의 실시간 요청 처리를 위해 웹소켓을 사용합니다.
{% endraw %}