---
categories:
- BOJ
date: '2025-01-02'
title: '[BOJ] 12781 - PIZZA ALVOLOC'
---

{% raw %}
> 골드 III<br>

## 문제
도윤이는 친구 3명과 함께 시험이 끝난 기념으로 도윤이의 집에서 놀기로 했다. 갑자기 배가 고파진 도윤이는 근처 맛 집인 PIZZA ALVOLOC에서 피자를 시켜먹기로 했다. 이 곳의 피자는 특이하게도, 보통 피자와 다르게 피자의 모양이 항상 볼록 다각형이다. 도윤이와 친구들은 피자를 네 등분해서 나눠먹기로 했다. 어떻게 나눌지 고민을 하던 중에 도윤이는 피자를 다음과 같이 나누기로 했다.

1.  한 명씩 피자의 가장자리의 한 점을 선택한다. (같은 점을 선택하지 않는다.)
2.  선택한 순서대로 첫 번째 점과 두 번째 점을 이어 선분을 만들고 세 번째 점과 네 번째 점을 이은 선분을 만든다.
3.  만들어진 두 선분을 따라 피자를 자른다.

도윤이와 친구들은 잘라진 피자의 크기에 상관없이 네 조각으로만 나눠지면 먹기로 했다. 만약 네 조각으로 나눠지지 않는다면 도윤이와 친구들은 피자를 두고 싸우게 된다. 예를 들어 그림1의 경우에는 두 선분에 의해 피자가 네 조각으로 나뉘게 된다. 하지만 그림2의 경우에는 두 선분에 의해 피자가 세 조각으로 나뉘게 된다.

도윤이와 친구들이 사이 좋게 피자를 나누어 먹을 수 있는지 알아보는 프로그램을 만들어 보자!

### 입력
입력의 첫 줄에는 도윤이와 친구들이 선택한 점의 좌표  _x_,  _y_(-10,000 ≤  _x_,  _y_  ≤ 10,000)가 순서대로 4개 주어진다.  _x_,  _y_값은 항상 정수이다.

### 출력
주어진 4개의 점으로 도윤이가 친구들과 사이좋게 피자를 나눠 먹을 수 있으면 1, 그렇지 않으면 0을 출력한다.

## 해결
두 선분이 교차하면 4등분이 됩니다. `선분 교차`를 활용합니다. => `17386 - 선분 교차 1`<br>

단, 한 점이 다른 선분에 포함되는 경우는 4등분이 되지 않습니다. 우선, 4개의 `CCW`를 구해봅시다.
```
4개의 점: P1, P2, P3, P4
r1 = CCW(P1, P2, P3)
r2 = CCW(P1, P2, P4)
r3 = CCW(P3, P4, P1)
r4 = CCW(P3, P4, P2)
```

4개의 `CCW` 중 0인 것이 존재하는 경우는 다음과 같습니다:
- 두 선분을 이으면 일직선이 되는 경우
- 선분의 점이 다른 선분의 점과 만나는 경우
- 선분 중간에 다른 선분의 점이 포함되는 경우
- 선분의 두 점과 다른 선분의 한 점을 이으면 일직선 방향(CCW = 0)이지만, 다른 선분의 다른 점이 선분에 포함되지 않는 경우

모두 피자를 4등분하지 못하므로, 4개의 `CCW` 중 0인 것이 존재하면 4등분이 불가능하다고 판정합니다.

## 코드
```
#include <iostream>
#include <cmath>
using namespace std;
typedef long long ll;
struct Point { ll x, y; };

int CCW(Point a, Point b, Point c) {
	ll D = (b.x - a.x) * (c.y - a.y) - (c.x - a.x) * (b.y - a.y);
	return (D == 0) ? 0 : ((D > 0) ? 1 : -1);<br>
}

int main() {
	ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);
	Point p1, p2, p3, p4;
	cin >> p1.x >> p1.y >> p2.x >> p2.y >> p3.x >> p3.y >> p4.x >> p4.y;<br>
	int r1 = CCW(p1, p2, p3), r2 = CCW(p1, p2, p4);
	int r3 = CCW(p3, p4, p1), r4 = CCW(p3, p4, p2);
	if (r1 == r2 || r3 == r4 || r1 == 0 || r2 == 0 || r3 == 0 || r4 == 0)
		cout << 0;
	else
		cout << 1;
	return 0;
}
```

## 링크
https://www.acmicpc.net/problem/12781<br>
{% endraw %}