---
categories:
- Programmers
date: '2024-12-01'
title: '[Programmers] 연습문제 - 두 원 사이의 정수 쌍'
---

{% raw %}
> Lv. 2<br>

## 문제
x축과 y축으로 이루어진 2차원 직교 좌표계에 중심이 원점인 서로 다른 크기의 원이 두 개 주어집니다. 반지름을 나타내는 두 정수  `r1`,  `r2`가 매개변수로 주어질 때, 두 원 사이의 공간에 x좌표와 y좌표가 모두 정수인 점의 개수를 return하도록 solution 함수를 완성해주세요.  
※ 각 원 위의 점도 포함하여 셉니다.

### 제한 사항
-   1 ≤  `r1`  <  `r2`  ≤ 1,000,000

## 해결
두 원 사이의 정수 좌표 개수는 다음과 같습니다:
> 원2 정수 좌표 개수(외곽선 포함) - 원1 정수 좌표 개수(외곽선 미포함)<br>

한 원에서 정수 좌표 개수를 찾아봅시다. 원을 포함한 정사각형 내부의 정수 좌표 개수에서 원 바깥에 빠져나온 좌표의 개수를 빼면 찾을 수 있습니다.
> 정사각형 좌표 개수 - 빠져나온 좌표 개수<br>

원에서 빠져나온 좌표의 개수를 찾아봅시다. 정사각형과 원은 모두 원점 대칭이므로 빠져나온 좌표 개수는 한 사분면에서만 찾으면 됩니다.

만약 어떠한 좌표가 있을 때 이 좌표와 원점까지 거리가 원의 반지름보다 크다면, 이 좌표는 원 바깥에 있는 것입니다. (만약 원 외곽선을 포함하지 않는다면, 이 좌표는 원의 반지름보다 같거나 큽니다.) 이 점을 이용해서 축 한 방향을 순회하면 빠져나온 좌표 개수를 찾을 수 있습니다. 아래 과정은 x축 기준으로 1사분면을 양의 방향으로 순회하는 것입니다:

```
a = 한 사분면에서 빠져나온 좌표 개수 = 0, a 증가량 = 0
(x = 1, y = 0)부터 (r, y)까지 탐색:
1. (x, y) 거리가 r보다 작을 때까지 실행:
	- y좌표 -1, a 증가량 +1
2. a가 a 증가량만큼 증가
```

거리 비교는 정수의 합과 곱 연산만으로 가능하므로 이 방법은 실수를 사용하지 않습니다. (단, 이 문제는 실수를 사용해도 통과가 가능합니다.)

좌표 개수를 합산할 때는 축에 포함되는 좌표를 유의합니다.

## 코드
```
#include <vector>
using namespace std;
typedef long long ll;

ll C(ll r, bool outline) {
    ll a = 0, da = 0;
    for(ll x = 1, y = r; x <= r; x++) {
        while((outline ? r * r < x * x + y * y : r * r <= x * x + y * y) && y > 0)
            da++, y--;
        a += da;
    }
    return (2 * r + 1) * (2 * r + 1) - (a * 4 + (outline ? 0 : 4));
}

ll solution(int r1, int r2) {
    return C(r2 , 1) - C(r1, 0);
}
```

## 링크
<br>https://school.programmers.co.kr/learn/courses/30/lessons/181187
{% endraw %}